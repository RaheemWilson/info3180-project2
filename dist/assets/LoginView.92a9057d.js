import{_ as p,T as g,A as w,s as c,o as n,c as a,a as l,t as y,b as o,w as _,v as u,d as k,p as m,e as f,r as I,f as S}from"./index.f5b0d47a.js";const x={data(){return{username:"",password:"",error:!1,message:""}},async created(){let s=await g.getCrsfToken();this.csrf=s.csrf_token},methods:{async loginUser(){let s={username:this.username,password:this.password},e=await w.login(s,this.csrf);e!=null&&e.errors?this.error=!0:(c.commit("setAuth",{auth:e.token}),c.commit("setUser",{user:e.id}),localStorage.setItem("authToken",e.token),localStorage.setItem("id",e.id),this.$router.push("/explore"))}}},d=s=>(m("data-v-1254727d"),s=s(),f(),s),b={class:"login-form"},L={key:0,class:"error"},U={key:1,class:"alert alert-success",role:"alert"},V={class:"form-field"},$=d(()=>o("label",{for:"username"},"Username",-1)),T={class:"form-field"},F=d(()=>o("label",{for:"password"},"Password",-1)),A=d(()=>o("button",{type:"submit",class:"submit-btn"},"Login",-1));function B(s,e,v,h,t,i){return n(),a("div",b,[t.error?(n(),a("div",L,"Invalid login information")):l("",!0),t.message?(n(),a("div",U,y(t.message),1)):l("",!0),o("form",{onSubmit:e[2]||(e[2]=k((...r)=>i.loginUser&&i.loginUser(...r),["prevent"])),method:"post"},[o("div",V,[$,_(o("input",{type:"text",name:"username",id:"username","onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),required:""},null,512),[[u,t.username]])]),o("div",T,[F,_(o("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.password=r),required:""},null,512),[[u,t.password]])]),A],32)])}var C=p(x,[["render",B],["__scopeId","data-v-1254727d"]]);const N={components:{LoginForm:C}},q=s=>(m("data-v-3aade025"),s=s(),f(),s),D={class:"login-container"},M={class:"login-content"},E=q(()=>o("h1",null,"Login to your account",-1));function P(s,e,v,h,t,i){const r=I("LoginForm");return n(),a("div",D,[o("div",M,[E,S(r)])])}var z=p(N,[["render",P],["__scopeId","data-v-3aade025"]]);export{z as default};
