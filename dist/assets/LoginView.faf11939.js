import{_ as m,T as w,A as y,s as l,o as n,c as a,a as o,F as k,r as x,t as c,b as _,w as u,v as p,d as S,p as f,e as g,f as I,g as L}from"./index.a920636c.js";const b={data(){return{username:"",password:"",errors:null,message:""}},async created(){let s=await w.getCrsfToken();this.csrf=s.csrf_token},methods:{async loginUser(){let s={username:this.username,password:this.password},e=await y.login(s,this.csrf);e!=null&&e.errors?this.errors=[...e.errors]:(l.commit("setAuth",{auth:e.token}),l.commit("setUser",{user:e.id}),localStorage.setItem("authToken",e.token),localStorage.setItem("id",e.id),this.$router.push("/explore"))}}},d=s=>(f("data-v-adf38504"),s=s(),g(),s),U={class:"login-form"},V={key:0,class:"alert alert-danger"},F={key:1,class:"alert alert-success",role:"alert"},T={class:"form-field"},$=d(()=>o("label",{for:"username"},"Username",-1)),A={class:"form-field"},B=d(()=>o("label",{for:"password"},"Password",-1)),C=d(()=>o("button",{type:"submit",class:"submit-btn"},"Login",-1));function N(s,e,h,v,t,i){return n(),a("div",U,[t.errors?(n(),a("div",V,[o("ul",null,[(n(!0),a(k,null,x(t.errors,r=>(n(),a("li",{key:t.errors.indexOf(r)},c(r),1))),128))])])):_("",!0),t.message?(n(),a("div",F,c(t.message),1)):_("",!0),o("form",{onSubmit:e[2]||(e[2]=S((...r)=>i.loginUser&&i.loginUser(...r),["prevent"])),method:"post"},[o("div",T,[$,u(o("input",{type:"text",name:"username",id:"username","onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),required:""},null,512),[[p,t.username]])]),o("div",A,[B,u(o("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.password=r),required:""},null,512),[[p,t.password]])]),C],32)])}var q=m(b,[["render",N],["__scopeId","data-v-adf38504"]]);const D={components:{LoginForm:q}},M=s=>(f("data-v-3aade025"),s=s(),g(),s),E={class:"login-container"},O={class:"login-content"},P=M(()=>o("h1",null,"Login to your account",-1));function j(s,e,h,v,t,i){const r=I("LoginForm");return n(),a("div",E,[o("div",O,[P,L(r)])])}var G=m(D,[["render",j],["__scopeId","data-v-3aade025"]]);export{G as default};
